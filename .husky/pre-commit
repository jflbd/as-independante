#!/usr/bin/env bash

echo "üîí V√©rification de s√©curit√© avant commit..."
npm run security-check

# Si le script de s√©curit√© √©choue, demander confirmation avant de continuer
if [ $? -ne 0 ]; then
  echo "‚ö†Ô∏è  Des probl√®mes de s√©curit√© ont √©t√© d√©tect√©s. Voulez-vous continuer quand m√™me ? (y/N) "
  read -r response
  if [ "$response" != "y" ] && [ "$response" != "Y" ]; then
    echo "Commit annul√©."
    exit 1
  fi
  echo "‚ö†Ô∏è Commit autoris√© malgr√© les probl√®mes de s√©curit√©."
fi

# Continuer avec les autres v√©rifications
npm run lint
